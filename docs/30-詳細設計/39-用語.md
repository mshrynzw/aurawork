# 📖 データ意味辞書（Aurawork）
本書は業務観点で各データ項目の**意味・用途・例**を説明します。技術的な型はテーブル定義書を参照してください。

## 目次
- [共通概念](#共通概念)
- [マスタ群](#マスタ群)
- [勤怠・休暇](#勤怠休暇)
- [給与](#給与)
- [承認](#承認)

---

## 共通概念
| 用語 | 意味 | 例 | 備考 |
|---|---|---|---|
| 会社ID | マルチテナント管理の境界 | 1 | 会社ごとにデータ分離 |
| 監査列 | データ作成/更新/削除の履歴 | created_by 等 | 誰がいつ操作したか |
| ステータス | 申請・処理の状態を示す値 | approved 等 | ENUMで管理 |

---

## マスタ群
### m_users（ユーザーマスタ）
| データ項目 | 意味 | 例 | 備考 |
|---|---|---|---|
| ユーザーID | 社員を一意に識別 | 1001 | 採番 |
| メールアドレス | ログインID | tanaka@corp.jp | 会社内一意 |
| 氏名 | 表示用の姓名 | 田中 太郎 | name_last/name_first |
| ステータス | 有効/無効/仮登録 | active | 退職時inactive |


### m_departments（部門マスタ）
| データ項目 | 意味 | 例 | 備考 |
|---|---|---|---|
| 部門名 | 組織上の名称 | 営業一課 | ツリー構造 |
| 親部門ID | 上位部門 | 10 | 自己参照 |


### m_pay_items（賃金項目マスタ）
| データ項目 | 意味 | 例 | 備考 |
|---|---|---|---|
| 種別 | 支給/控除 | earning |  |
| 計算基礎 | 計算の基準 | hour | 時給・月給・固定など |

---

## 勤怠・休暇
### t_time_entries（勤怠実績/打刻）
| データ項目 | 意味 | 例 | 備考 |
|---|---|---|---|
| 対象日 | 勤務した日付 | 2025-11-12 |  |
| 出勤日時 | 出勤打刻時刻 | 2025-11-12 08:55 | Web/IC |
| 退勤日時 | 退勤打刻時刻 | 2025-11-12 18:02 |  |
| 休憩(分) | 休憩合計 | 60 | 分単位 |
| 申請状態 | 申請/承認進行 | submitted | draft/approved等 |


### t_leave_requests（休暇申請）
| データ項目 | 意味 | 例 | 備考 |
|---|---|---|---|
| 区分 | 休暇の種別 | annual | 年休/病休など |
| 期間 | 休暇の開始〜終了 | 2025-12-01〜2025-12-03 |  |
| 日数 | 取得日数 | 2.0 | 0.5単位可 |
| 理由 | 申請理由 | 私用 | 任意 |

---

## 給与
### t_pay_slips（給与明細）
| データ項目 | 意味 | 例 | 備考 |
|---|---|---|---|
| 総支給額 | 基本給＋各種手当 | 250000 | 税引前 |
| 控除合計 | 税・社保等の控除 | 35000 |  |
| 差引支給額 | 総支給−控除 | 215000 | 振込額 |
| 通貨 | 給与通貨 | JPY | 日本円 |

---

## 承認
### t_approval_bindings / h_approvals
| データ項目 | 意味 | 例 | 備考 |
|---|---|---|---|
| 承認フロー | どの経路で承認するか | 年休1段/2段 | m_approval_flows |
| 現在段階 | 承認の進行度 | 2 | 1..n |
| アクション | 承認/却下/コメント | approve | h_approvals.action |
---

## 🔹API対応表（Aurawork API ⇄ DB対応）

| APIエンドポイント | 操作 | 対応テーブル | 主な項目 |
|--------------------|--------|----------------|------------|
| `POST /login` | ログイン認証 | m_users | email, password |
| `GET /api/time-entries` | 勤怠一覧取得 | t_time_entries | work_date, clock_in, clock_out, status |
| `POST /api/time-entries` | 勤怠登録 | t_time_entries | user_id, work_date, clock_in |
| `GET /api/leave-requests` | 休暇一覧 | t_leave_requests | type, start_date, end_date, status |
| `POST /api/leave-requests` | 休暇申請登録 | t_leave_requests | user_id, type, start_date, days |
| `GET /api/pay-slips/{id}` | 給与明細表示 | t_pay_slips, t_pay_lines | gross_amount, total_deduction, net_amount |
| `POST /api/pay-runs` | 給与処理実行 | t_pay_runs | period_start, pay_date |
| `GET /api/approvals` | 承認一覧 | t_approval_bindings, h_approvals | status, action, acted_at |
| `POST /api/approvals/{id}/action` | 承認操作 | h_approvals | action, comment |
