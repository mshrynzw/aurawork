# ğŸ—‚ ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©æ›¸ï¼ˆAuraworkï¼‰

æœ¬æ›¸ã¯DBã®ç‰©ç†æ§‹é€ ã‚’ç¤ºã—ã¾ã™ã€‚ï¼ˆç›£æŸ»åˆ—å«ã‚€ï¼‰

## ç›®æ¬¡

- [m_companiesï¼ˆä¼šç¤¾ãƒã‚¹ã‚¿ï¼‰](#m_companies)
- [m_departmentsï¼ˆéƒ¨é–€ãƒã‚¹ã‚¿ï¼‰](#m_departments)
- [m_usersï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒã‚¹ã‚¿ï¼‰](#m_users)
- [m_employmentsï¼ˆé›‡ç”¨æƒ…å ±ãƒã‚¹ã‚¿ï¼‰](#m_employments)
- [m_rolesï¼ˆãƒ­ãƒ¼ãƒ«ãƒã‚¹ã‚¿ï¼‰](#m_roles)
- [m_permissionsï¼ˆæ¨©é™ãƒã‚¹ã‚¿ï¼‰](#m_permissions)
- [m_pay_itemsï¼ˆè³ƒé‡‘é …ç›®ãƒã‚¹ã‚¿ï¼‰](#m_pay_items)
- [m_holidaysï¼ˆä¼‘æ—¥ãƒã‚¹ã‚¿ï¼‰](#m_holidays)
- [m_approval_flowsï¼ˆæ‰¿èªãƒ•ãƒ­ãƒ¼ãƒã‚¹ã‚¿ï¼‰](#m_approval_flows)
- [m_approval_stepsï¼ˆæ‰¿èªã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¹ã‚¿ï¼‰](#m_approval_steps)
- [t_schedulesï¼ˆå‹¤å‹™äºˆå®šï¼‰](#t_schedules)
- [t_time_entriesï¼ˆå‹¤æ€ å®Ÿç¸¾/æ‰“åˆ»ï¼‰](#t_time_entries)
- [t_leave_requestsï¼ˆä¼‘æš‡ç”³è«‹ï¼‰](#t_leave_requests)
- [t_leave_balancesï¼ˆä¼‘æš‡æ®‹é«˜ï¼‰](#t_leave_balances)
- [t_pay_runsï¼ˆçµ¦ä¸ç· ã‚/æ”¯çµ¦å‡¦ç†ï¼‰](#t_pay_runs)
- [t_pay_slipsï¼ˆçµ¦ä¸æ˜ç´°ï¼‰](#t_pay_slips)
- [t_pay_linesï¼ˆçµ¦ä¸æ˜ç´°è¡Œï¼‰](#t_pay_lines)
- [t_approval_bindingsï¼ˆæ‰¿èªå¯¾è±¡ç´ã¥ã‘ï¼‰](#t_approval_bindings)
- [r_user_rolesï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼Ã—ãƒ­ãƒ¼ãƒ«å¯¾å¿œï¼‰](#r_user_roles)
- [r_role_permissionsï¼ˆãƒ­ãƒ¼ãƒ«Ã—æ¨©é™å¯¾å¿œï¼‰](#r_role_permissions)
- [h_approvalsï¼ˆæ‰¿èªå±¥æ­´ï¼‰](#h_approvals)

---

## m_companiesï¼ˆä¼šç¤¾ãƒã‚¹ã‚¿ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | ä¼šç¤¾ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `name` | ä¼šç¤¾å | `VARCHAR(191)` |  |
| `code` | ä¼šç¤¾ã‚³ãƒ¼ãƒ‰ | `VARCHAR(64)` | ä¸€æ„æ¨å¥¨ |
| `timezone` | ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ | `VARCHAR(64)` | ä¾‹: Asia/Tokyo |
| `start_of_week` | é€±ã®é–‹å§‹æ›œæ—¥(1=æœˆ) | `TINYINT` | 1-7 |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚(è«–ç†å‰Šé™¤) | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## m_departmentsï¼ˆéƒ¨é–€ãƒã‚¹ã‚¿ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | éƒ¨é–€ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `company_id` | ä¼šç¤¾ID | `BIGINT` | FK m_companies.id |
| `name` | éƒ¨é–€å | `VARCHAR(191)` |  |
| `code` | éƒ¨é–€ã‚³ãƒ¼ãƒ‰ | `VARCHAR(64)` | ä¸€æ„æ¨å¥¨ |
| `parent_id` | è¦ªéƒ¨é–€ID | `BIGINT NULL` | è‡ªå·±å‚ç…§ |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## m_usersï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒã‚¹ã‚¿ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `company_id` | ä¼šç¤¾ID | `BIGINT` | FK m_companies.id |
| `department_id` | éƒ¨é–€ID | `BIGINT NULL` | FK m_departments.id |
| `email` | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ | `VARCHAR(191)` | ä¼šç¤¾å†…ä¸€æ„ |
| `password` | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥ | `VARCHAR(255)` | bcrypt |
| `name_last` | å§“ | `VARCHAR(64)` |  |
| `name_first` | å | `VARCHAR(64)` |  |
| `name_last_kana` | æ°åã‚«ãƒŠ | `VARCHAR(128)` |  |
| `name_first_kana` | æ°åã‚«ãƒŠ | `VARCHAR(128)` |  |
| `joined_on` | å…¥ç¤¾æ—¥ | `DATE` |  |
| `retired_on` | é€€è·æ—¥ | `DATE NULL` |  |
| `status` | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | `ENUM('active','inactive','provisioned')` |  |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## m_employmentsï¼ˆé›‡ç”¨æƒ…å ±ãƒã‚¹ã‚¿ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | é›‡ç”¨æƒ…å ±ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `user_id` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | `BIGINT` | FK m_users.id |
| `employment_type` | é›‡ç”¨åŒºåˆ† | `ENUM('fulltime','contract','parttime','intern')` |  |
| `base_hourly_rate` | åŸºæœ¬æ™‚çµ¦ | `DECIMAL(10,2) NULL` |  |
| `base_monthly_salary` | åŸºæœ¬æœˆçµ¦ | `DECIMAL(12,2) NULL` |  |
| `work_hours_per_week` | é€±æ‰€å®šåŠ´åƒæ™‚é–“ | `DECIMAL(5,2)` |  |
| `effective_from` | é©ç”¨é–‹å§‹æ—¥ | `DATE` |  |
| `effective_to` | é©ç”¨çµ‚äº†æ—¥ | `DATE NULL` |  |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## m_rolesï¼ˆãƒ­ãƒ¼ãƒ«ãƒã‚¹ã‚¿ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | ãƒ­ãƒ¼ãƒ«ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `company_id` | ä¼šç¤¾ID | `BIGINT` | FK m_companies.id |
| `slug` | è­˜åˆ¥å­ | `VARCHAR(64)` | è‹±å°æ–‡å­—/è¨˜å· |
| `name` | ãƒ­ãƒ¼ãƒ«å | `VARCHAR(191)` | è¡¨ç¤ºå |
| `description` | èª¬æ˜ | `TEXT NULL` |  |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## m_permissionsï¼ˆæ¨©é™ãƒã‚¹ã‚¿ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | æ¨©é™ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `key` | æ¨©é™ã‚­ãƒ¼ | `VARCHAR(128)` | ä¾‹: time.read |
| `description` | èª¬æ˜ | `TEXT NULL` |  |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## m_pay_itemsï¼ˆè³ƒé‡‘é …ç›®ãƒã‚¹ã‚¿ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | é …ç›®ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `company_id` | ä¼šç¤¾ID | `BIGINT` | FK m_companies.id |
| `code` | ã‚³ãƒ¼ãƒ‰ | `VARCHAR(64)` | ä¼šç¤¾å†…ä¸€æ„ |
| `name` | åç§° | `VARCHAR(191)` |  |
| `kind` | ç¨®åˆ¥ | `ENUM('earning','deduction')` | æ”¯çµ¦/æ§é™¤ |
| `calc_base` | è¨ˆç®—åŸºç¤ | `ENUM('hour','day','month','fixed','overtime','night','transport')` |  |
| `taxable` | èª²ç¨å¯¾è±¡ | `TINYINT(1)` | 0/1 |
| `social_insurance` | ç¤¾ä¿å¯¾è±¡ | `TINYINT(1)` | 0/1 |
| `order_no` | è¡¨ç¤ºé † | `SMALLINT` | æ˜‡é † |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## m_holidaysï¼ˆä¼‘æ—¥ãƒã‚¹ã‚¿ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | ä¼‘æ—¥ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `company_id` | ä¼šç¤¾ID | `BIGINT` | FK m_companies.id |
| `date` | æ—¥ä»˜ | `DATE` |  |
| `name` | åç§° | `VARCHAR(191)` |  |
| `is_national` | å›½æ°‘ã®ç¥æ—¥ | `TINYINT(1)` | 0/1 |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## m_approval_flowsï¼ˆæ‰¿èªãƒ•ãƒ­ãƒ¼ãƒã‚¹ã‚¿ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | ãƒ•ãƒ­ãƒ¼ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `company_id` | ä¼šç¤¾ID | `BIGINT` | FK m_companies.id |
| `name` | åç§° | `VARCHAR(191)` |  |
| `target` | å¯¾è±¡ | `ENUM('time_entry','leave_request','generic')` |  |
| `is_active` | æœ‰åŠ¹ | `TINYINT(1)` | 0/1 |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## m_approval_stepsï¼ˆæ‰¿èªã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¹ã‚¿ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | ã‚¹ãƒ†ãƒƒãƒ—ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `approval_flow_id` | ãƒ•ãƒ­ãƒ¼ID | `BIGINT` | FK m_approval_flows.id |
| `step_order` | æ®µéšé † | `SMALLINT` | 1..n |
| `approver_type` | æ‰¿èªè€…ç¨®åˆ¥ | `ENUM('role','user','manager')` |  |
| `approver_role_id` | æ‰¿èªãƒ­ãƒ¼ãƒ«ID | `BIGINT NULL` | FK m_roles.id |
| `approver_user_id` | æ‰¿èªãƒ¦ãƒ¼ã‚¶ãƒ¼ID | `BIGINT NULL` | FK m_users.id |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## t_schedulesï¼ˆå‹¤å‹™äºˆå®šï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | äºˆå®šID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `user_id` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | `BIGINT` | FK m_users.id |
| `work_date` | æ—¥ä»˜ | `DATE` |  |
| `start_time` | é–‹å§‹æ™‚åˆ» | `TIME` |  |
| `end_time` | çµ‚äº†æ™‚åˆ» | `TIME` |  |
| `break_minutes` | ä¼‘æ†©(åˆ†) | `SMALLINT` |  |
| `note` | å‚™è€ƒ | `VARCHAR(255) NULL` |  |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## t_time_entriesï¼ˆå‹¤æ€ å®Ÿç¸¾/æ‰“åˆ»ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | å®Ÿç¸¾ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `user_id` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | `BIGINT` | FK m_users.id |
| `work_date` | å¯¾è±¡æ—¥ | `DATE` |  |
| `clock_in` | å‡ºå‹¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `clock_out` | é€€å‹¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `break_minutes` | ä¼‘æ†©(åˆ†) | `SMALLINT` |  |
| `source` | ç”±æ¥ | `ENUM('web','mobile','ic','import')` |  |
| `status` | ç”³è«‹çŠ¶æ…‹ | `ENUM('draft','submitted','approved','rejected')` |  |
| `late_minutes` | é…åˆ»(åˆ†) | `SMALLINT` |  |
| `early_leave_minutes` | æ—©é€€(åˆ†) | `SMALLINT` |  |
| `overtime_minutes` | æ®‹æ¥­(åˆ†) | `SMALLINT` |  |
| `approval_binding_id` | æ‰¿èªç´ã¥ã‘ID | `BIGINT NULL` | FK t_approval_bindings.id |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## t_leave_requestsï¼ˆä¼‘æš‡ç”³è«‹ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | ç”³è«‹ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `user_id` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | `BIGINT` | FK m_users.id |
| `type` | åŒºåˆ† | `ENUM('annual','sick','special','unpaid')` |  |
| `start_date` | é–‹å§‹æ—¥ | `DATE` |  |
| `end_date` | çµ‚äº†æ—¥ | `DATE` |  |
| `days` | æ—¥æ•° | `DECIMAL(4,2)` | 0.5å˜ä½å¯ |
| `reason` | ç†ç”± | `VARCHAR(255) NULL` |  |
| `status` | çŠ¶æ…‹ | `ENUM('draft','submitted','approved','rejected')` |  |
| `approval_binding_id` | æ‰¿èªç´ã¥ã‘ID | `BIGINT NULL` | FK t_approval_bindings.id |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## t_leave_balancesï¼ˆä¼‘æš‡æ®‹é«˜ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | æ®‹é«˜ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `user_id` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | `BIGINT` | FK m_users.id |
| `type` | åŒºåˆ† | `ENUM('annual','sick','special')` |  |
| `period_start` | æœŸé–“é–‹å§‹æ—¥ | `DATE` |  |
| `period_end` | æœŸé–“çµ‚äº†æ—¥ | `DATE` |  |
| `granted` | ä»˜ä¸æ—¥æ•° | `DECIMAL(4,2)` |  |
| `taken` | å–å¾—æ—¥æ•° | `DECIMAL(4,2)` |  |
| `carryover` | ç¹°è¶Šæ—¥æ•° | `DECIMAL(4,2)` |  |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## t_pay_runsï¼ˆçµ¦ä¸ç· ã‚/æ”¯çµ¦å‡¦ç†ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | æ”¯çµ¦å‡¦ç†ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `company_id` | ä¼šç¤¾ID | `BIGINT` | FK m_companies.id |
| `period_start` | ç· ã‚æœŸé–“é–‹å§‹ | `DATE` |  |
| `period_end` | ç· ã‚æœŸé–“çµ‚äº† | `DATE` |  |
| `pay_date` | æ”¯çµ¦æ—¥ | `DATE` |  |
| `status` | çŠ¶æ…‹ | `ENUM('draft','calculating','finalized','paid')` |  |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## t_pay_slipsï¼ˆçµ¦ä¸æ˜ç´°ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | æ˜ç´°ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `pay_run_id` | æ”¯çµ¦å‡¦ç†ID | `BIGINT` | FK t_pay_runs.id |
| `user_id` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | `BIGINT` | FK m_users.id |
| `gross_amount` | ç·æ”¯çµ¦é¡ | `DECIMAL(12,2)` |  |
| `total_deduction` | æ§é™¤åˆè¨ˆ | `DECIMAL(12,2)` |  |
| `net_amount` | å·®å¼•æ”¯çµ¦é¡ | `DECIMAL(12,2)` |  |
| `currency` | é€šè²¨ | `CHAR(3)` | ä¾‹: JPY |
| `status` | çŠ¶æ…‹ | `ENUM('draft','finalized','paid')` |  |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## t_pay_linesï¼ˆçµ¦ä¸æ˜ç´°è¡Œï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | æ˜ç´°è¡ŒID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `pay_slip_id` | æ˜ç´°ID | `BIGINT` | FK t_pay_slips.id |
| `pay_item_id` | é …ç›®ID | `BIGINT` | FK m_pay_items.id |
| `quantity` | æ•°é‡ | `DECIMAL(10,2) NULL` |  |
| `rate` | ãƒ¬ãƒ¼ãƒˆ | `DECIMAL(12,2) NULL` |  |
| `amount` | é‡‘é¡ | `DECIMAL(12,2)` |  |
| `memo` | å‚™è€ƒ | `VARCHAR(255) NULL` |  |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## t_approval_bindingsï¼ˆæ‰¿èªå¯¾è±¡ç´ã¥ã‘ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | ç´ã¥ã‘ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `flow_id` | ãƒ•ãƒ­ãƒ¼ID | `BIGINT` | FK m_approval_flows.id |
| `target_table` | å¯¾è±¡ãƒ†ãƒ¼ãƒ–ãƒ« | `VARCHAR(64)` | ä¾‹: t_time_entries |
| `target_id` | å¯¾è±¡ID | `BIGINT` | å¯¾è±¡ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä¸»ã‚­ãƒ¼ |
| `current_step` | ç¾åœ¨æ®µéš | `SMALLINT` |  |
| `status` | çŠ¶æ…‹ | `ENUM('draft','in_review','approved','rejected')` |  |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## r_user_rolesï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼Ã—ãƒ­ãƒ¼ãƒ«å¯¾å¿œï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | å¯¾å¿œID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `user_id` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | `BIGINT` | FK m_users.id |
| `role_id` | ãƒ­ãƒ¼ãƒ«ID | `BIGINT` | FK m_roles.id |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## r_role_permissionsï¼ˆãƒ­ãƒ¼ãƒ«Ã—æ¨©é™å¯¾å¿œï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | å¯¾å¿œID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `role_id` | ãƒ­ãƒ¼ãƒ«ID | `BIGINT` | FK m_roles.id |
| `permission_id` | æ¨©é™ID | `BIGINT` | FK m_permissions.id |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

## h_approvalsï¼ˆæ‰¿èªå±¥æ­´ï¼‰

| ã‚«ãƒ©ãƒ ç‰©ç†å | ã‚«ãƒ©ãƒ è«–ç†å | å‹ | å‚™è€ƒ |
|---|---|---|---|
| `id` | å±¥æ­´ID | `BIGINT` | ä¸»ã‚­ãƒ¼ |
| `binding_id` | ç´ã¥ã‘ID | `BIGINT` | FK t_approval_bindings.id |
| `step_order` | æ®µéš | `SMALLINT` |  |
| `approver_user_id` | æ‰¿èªè€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ID | `BIGINT` | FK m_users.id |
| `action` | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | `ENUM('approve','reject','comment')` |  |
| `comment` | ã‚³ãƒ¡ãƒ³ãƒˆ | `VARCHAR(255) NULL` |  |
| `acted_at` | å®Ÿè¡Œæ—¥æ™‚ | `DATETIME(3)` |  |
| `created_at` | ä½œæˆæ—¥æ™‚ | `DATETIME(3)` |  |
| `updated_at` | æ›´æ–°æ—¥æ™‚ | `DATETIME(3)` |  |
| `deleted_at` | å‰Šé™¤æ—¥æ™‚ | `DATETIME(3) NULL` |  |
| `created_by` | ä½œæˆè€…ID | `BIGINT NULL` | ç›£æŸ» |
| `updated_by` | æ›´æ–°è€…ID | `BIGINT NULL` | ç›£æŸ» |
| `deleted_by` | å‰Šé™¤è€…ID | `BIGINT NULL` | ç›£æŸ» |

---

---

## ğŸ”¹åˆ¶ç´„ãƒ»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å®šç¾©

| åŒºåˆ† | å†…å®¹ | å¯¾è±¡ |
|------|------|------|
| ä¸»ã‚­ãƒ¼ | `id` | å…¨ãƒ†ãƒ¼ãƒ–ãƒ«å…±é€š |
| å¤–éƒ¨ã‚­ãƒ¼ | `company_id` â†’ `m_companies.id` | m_users, m_departments, m_roles, m_pay_items, m_holidays, m_approval_flows ç­‰ |
| å¤–éƒ¨ã‚­ãƒ¼ | `user_id` â†’ `m_users.id` | t_time_entries, t_leave_requests, t_pay_slips, t_leave_balances ç­‰ |
| å¤–éƒ¨ã‚­ãƒ¼ | `pay_run_id` â†’ `t_pay_runs.id` | t_pay_slips |
| å¤–éƒ¨ã‚­ãƒ¼ | `pay_item_id` â†’ `m_pay_items.id` | t_pay_lines |
| å¤–éƒ¨ã‚­ãƒ¼ | `flow_id` â†’ `m_approval_flows.id` | t_approval_bindings |
| å¤–éƒ¨ã‚­ãƒ¼ | `approval_binding_id` â†’ `t_approval_bindings.id` | t_time_entries, t_leave_requests |
| ãƒ¦ãƒ‹ãƒ¼ã‚¯ã‚­ãƒ¼ | `email + company_id` | m_users |
| ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ | `work_date`, `user_id` | t_time_entries |
| ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ | `approval_binding_id` | t_time_entries, t_leave_requests |
| è«–ç†å‰Šé™¤ | `deleted_at IS NULL` æ¡ä»¶ã‚’æ¨™æº–æ¡ç”¨ | å…¨ãƒ†ãƒ¼ãƒ–ãƒ« |
